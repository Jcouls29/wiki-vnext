# ===============================================
# SITES
# ===============================================

extend type Query {
  sites: [Site]

  siteById (
    id: Int!
  ): Site

  siteByHostname (
    hostname: String!
  ): Site
}

extend type Mutation {
  createSite (
    hostname: String!
    title: String!
  ): SiteCreateResponse

  updateSite (
    id: UUID!
    patch: SiteUpdateInput
  ): DefaultResponse

  deleteSite (
    id: UUID!
  ): DefaultResponse
}

# -----------------------------------------------
# TYPES
# -----------------------------------------------

type Site {
  id: UUID
  hostname: String
  isEnabled: Boolean
  title: String
  description: String
  robots: [String]
  company: String
  contentLicense: String
  commentsAreActive: Boolean
  ratingsMode: SitePageRatingModes
  logoUrl: String
}

type SiteCreateResponse {
  status: ResponseStatus
  site: Site
}

input SiteUpdateInput {
  hostname: String
  isEnabled: Boolean
  title: String
  description: String
  company: String
  contentLicense: String
  logoUrl: String
}

enum SitePageRatingModes {
  off
  thumbs
  stars
}
